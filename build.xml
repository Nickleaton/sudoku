<?xml version="1.0"?>
<project name="Sudoku" default="info">
    <target name="info">
        <echo>Hello World - Sudoku!</echo>
    </target>
    <target name="install">
        <exec excecutable="pip">
            <arg value="install"/>
            <arg value="-r"/>
            <arg value="requirements.txt"/>
        </exec>
    </target>
    <target name="build">
        <echo>Build</echo>
    </target>
    <target name="test">
        <mkdir dir="output/tests"/>
        <mkdir dir="output/lp"/>
        <mkdir dir="output/svg"/>
        <exec executable="nose2" failonerror="true" taskname="nose2">
            <arg value="-s"/>
            <arg value="tests"/>
            <arg value="-v"/>
            <arg value="-C"/>
            <arg value="--coverage-report"/>
            <arg value="html"/>
            <arg value="--pretty-assert"/>
            <arg value="--html-report"/>
        </exec>
    </target>
    <target name="pylint" depends="pylint.src,pylint.tests"/>
    <target name="pylint.src">
        <mkdir dir="output/pylint"/>
        <exec executable="pylint" failonerror="false" taskname="pylint" output="output/pylint/src.txt">
            <arg value="src"/>
        </exec>
    </target>
    <target name="pylint.tests">
        <mkdir dir="output/pylint"/>
        <exec executable="pylint" failonerror="false" taskname="pylint" output="output/pylint/tests.txt">
            <arg value="tests"/>
        </exec>
    </target>
    <target name="mypy">
        <mkdir dir="output/mypy"/>
        <exec executable="mypy" failonerror="false" taskname="mypy">
            <arg value="--namespace-packages"/>
            <arg value="--html-report"/>
            <arg value="output/mypy"/>
            <arg value="src"/>
        </exec>
    </target>
    <target name="documentation">
        <mkdir dir="output/documentation"/>
        <exec executable="pdoc" failonerror="false" taskname="mypy">
            <arg value="--html"/>
            <arg value="--force"/>
            <arg value="-o"/>
            <arg value="output/documentation"/>
            <arg value="src/"/>
        </exec>
    </target>
</project>